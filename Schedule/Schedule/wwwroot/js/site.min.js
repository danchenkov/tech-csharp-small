// Please see documentation at https://docs.microsoft.com/aspnet/core/client-side/bundling-and-minification
// for details on configuring this project to bundle and minify static web assets.

// Write your JavaScript code.
function Episode(data) {
    this.title = ko.observable(data.title);
    // this.series = ko.observable(data.series);
    // this.airedAt = ko.observable(data.airedAt);
}

function EpisodeListViewModel() {
    // Data
    var self = this;
    this.newEpisodeTitle = ko.observable();

    self.episodes = ko.observableArray([]);
    // self.title = ko.observable();
    // self.series = ko.observable();
    // self.airedAt = ko.observable();

    // Operations
    self.addEpisode = function() {
        if (this.newEpisodeTitle()) self.episodes.push(new Episode({ title: this.newEpisodeTitle() }));
        // self.title("");
        // self.airedAt("");
    };
    self.removeEpisode = function(episode) { console.log(JSON.stringify(episode)); self.episodes.destroy(episode) };
    // self.save = function() {
    //     $.ajax("/episodes", {
    //         data: ko.toJSON({ tasks: self.episodes }),
    //         type: "post", contentType: "application/json",
    //         success: function(result) { alert(result) }
    //     });
    // };

    // Load initial state from server, convert it to Task instances, then populate self.tasks
    // $.getJSON("/episodes", function(allData) {
        // var mappedEpisodes = $.map(allData, function(item) { return new Episode(item) });
        // self.episodes(mappedEpisodes);
    //});    
}

ko.applyBindings(new EpisodeListViewModel());